class obstacle {
  constructor() {
    this.trans = new XVector();
    this.speedFr = new XVector();
    this.accFr = new XVector();
    this.mtx = new XMatrix();
    this.mtx.Set(1.0);
    this.x = new Array(200).fill(0);
    this.y = new Array(200).fill(0);
    this.z = new Array(200).fill(0);
    this.numPoints = 0;
    this.numPolygons = 0;
    this.numPolyStruct = 0;
    this.first = new Array(30).fill(0);
    this.last = new Array(30).fill(0);
    this.polyStruct = new Array(30).fill(0);
    this.colors = new Array(20).fill(null);
    this.minX = 0;
    this.maxX = 0;
    this.colliYIndex = 0;
    this.colliY = 0;
    this.type = 0;
    this.next = null;
    this.prev = null;
    this.OPTIMIZE = true;
    this.NEW_OBJECTS = true;
    this.GENERATE_SOURCE = false;
    this.vTemp = new XVector();
    // colors
    this.fenyoExt = "rgb(11,111,96)";
    this.fenyoInt = "rgb(20,165,143)";
    this.fatorzsLeft = "rgb(236,194,131)";
    this.fatorzsMiddle = "rgb(186,153,104)";
    this.fatorzsRight = "rgb(127,104,68)";
    this.fatorzsTop = "rgb(255,228,146)";
    this.rampSide = "rgb(160,208,255)";
    this.rampTop = "rgb(208,228,248)";
    this.rampEdge = "rgb(224,100,120)";
    this.dombDarkBlue = "rgb(0,119,158)";
    this.dombLightBlue = "rgb(0,178,235)";
    this.dombAlmostWhite = "rgb(169,223,223)";
    this.dombWhite = "rgb(255,255,255)";
    this.domb1 = "rgb(205,228,250)";
    this.domb2 = "rgb(154,204,253)";
    this.domb3 = "rgb(108,177,246)";
    this.domb4 = "rgb(108,177,246)";
  }

  ApplyDynamics() {
    if (!this.OPTIMIZE) {
      this.speedFr.Add(this.accFr);
    }
    this.trans.Add(this.speedFr);
  }

  GetAbsCoord(n, xVector) {
    if (this.type === 20) {
      this.vTemp.Set(this.x[n], this.y[n], this.z[n]);
      this.mtx.Mul(this.vTemp, xVector);
    } else {
      xVector.Set(this.x[n], this.y[n], this.z[n]);
    }
    xVector.Add(this.trans);
  }

  GetAbsCoordX(n) { return this.x[n] + this.trans.x; }
  GetAbsCoordY(n) { return this.y[n] + this.trans.y; }
  GetAbsCoordZ(n) { return this.z[n] + this.trans.z; }

  buildObj(xVector, d) {
    switch (this.type) {
      case 0:
        if (this.NEW_OBJECTS) { this.buildFenyo(xVector, d); }
        else { this.buildFenyo2(xVector, d); }
        break;
      case 1:
        this.buildDomb2(xVector, d);
        break;
      case 10:
        this.buildFatorzs(xVector, d);
        break;
      case 20:
        this.buildRamp(xVector, d);
        break;
    }
  }

  buildDomb(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 16;
    this.numPolygons = 3;
    this.colors[0] = this.domb1;
    this.colors[1] = this.domb2;
    this.colors[2] = this.domb3;
    this.numPolyStruct = 3;
    this.first[0] = 0; this.last[0] = 7; this.polyStruct[0] = 0;
    this.first[1] = 6; this.last[1] = 13; this.polyStruct[1] = 1;
    this.first[2] = 14; this.last[2] = 15; this.polyStruct[2] = 2;
    this.minX = 0; this.maxX = 6;
    this.colliYIndex = 0; this.colliY = 0;
    let i;
    for (i = 0; i < this.numPoints; i++) this.z[i] = 0;
    d *= 0.15;
    this.x[0] = -6*d; this.y[0] = 1*d;
    this.x[1] = -5*d; this.y[1] = -1*d;
    this.x[2] = -3*d; this.y[2] = -3*d;
    this.x[3] = 0*d; this.y[3] = -4*d;
    this.x[4] = 3*d; this.y[4] = -3*d;
    this.x[5] = 5*d; this.y[5] = -1*d;
    this.x[6] = 6*d; this.y[6] = 1*d;
    this.x[7] = -6*d; this.y[7] = 1*d;
    this.x[8] = -4*d; this.y[8] = 0*d;
    this.x[9] = -2*d; this.y[9] = -2*d;
    this.x[10] = 0*d; this.y[10] = -3*d;
    this.x[11] = 2*d; this.y[11] = -2*d;
    this.x[12] = 4*d; this.y[12] = 0*d;
    this.x[13] = 6*d; this.y[13] = 1*d;
    this.x[14] = 0*d; this.y[14] = -4*d;
    this.x[15] = 0*d; this.y[15] = -3*d;
    let d2 = 0.4 - this.y[this.colliYIndex];
    for (i = 0; i < this.numPoints; i++) this.y[i] += d2;
  }

  buildDomb2(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 61;
    this.numPolygons = 5;
    this.colors[0] = this.dombDarkBlue;
    this.colors[1] = this.dombLightBlue;
    this.colors[2] = this.dombAlmostWhite;
    this.colors[3] = this.dombLightBlue;
    this.colors[4] = this.dombWhite;
    this.numPolyStruct = 5;
    this.first[0]=0; this.last[0]=21; this.polyStruct[0]=0;
    this.first[1]=13; this.last[1]=26; this.polyStruct[1]=1;
    this.first[2]=21; this.last[2]=43; this.polyStruct[2]=2;
    this.first[3]=44; this.last[3]=52; this.polyStruct[3]=3;
    this.first[4]=53; this.last[4]=60; this.polyStruct[4]=4;
    this.minX = 19; this.maxX = 37;
    this.colliYIndex = 11; this.colliY = 0;
    this.x[0]=-0.9; this.y[0]=-1.215;
    this.x[1]=-1.35; this.y[1]=-1.08;
    this.x[2]=-1.8; this.y[2]=-0.9;
    this.x[3]=-2.25; this.y[3]=-0.54;
    this.x[4]=-2.925; this.y[4]=-0.45;
    this.x[5]=-3.15; this.y[5]=-0.225;
    this.x[6]=-3.6; this.y[6]=0.0;
    this.x[7]=-2.7; this.y[7]=0.0;
    this.x[8]=-2.25; this.y[8]=0.225;
    this.x[9]=-1.35; this.y[9]=0.225;
    this.x[10]=-0.9; this.y[10]=0.315;
    this.x[11]=-0.315; this.y[11]=0.315;
    this.x[12]=-0.45; this.y[12]=0.225;
    this.x[13]=0.675; this.y[13]=0.225;
    this.x[14]=-0.225; this.y[14]=0.135;
    this.x[15]=-0.54; this.y[15]=0.18;
    this.x[16]=-1.125; this.y[16]=0.18;
    this.x[17]=-1.35; this.y[17]=0.09;
    this.x[18]=-2.25; this.y[18]=0.0;
    this.x[19]=-2.7; this.y[19]=-0.225;
    this.x[20]=-1.8; this.y[20]=-0.585;
    this.x[21]=-1.35; this.y[21]=-0.9;
    this.x[22]=-1.665; this.y[22]=-0.54;
    this.x[23]=-1.665; this.y[23]=-0.225;
    this.x[24]=-1.44; this.y[24]=-0.045;
    this.x[25]=-0.765; this.y[25]=-0.045;
    this.x[26]=0.0; this.y[26]=0.135;
    this.x[27]=0.675; this.y[27]=0.225;
    this.x[28]=0.585; this.y[28]=0.27;
    this.x[29]=0.945; this.y[29]=0.36;
    this.x[30]=1.8; this.y[30]=0.27;
    this.x[31]=1.665; this.y[31]=0.225;
    this.x[32]=2.34; this.y[32]=0.135;
    this.x[33]=2.25; this.y[33]=0.045;
    this.x[34]=3.15; this.y[34]=0.09;
    this.x[35]=3.6; this.y[35]=0.0;
    this.x[36]=3.15; this.y[36]=-0.135;
    this.x[37]=2.7; this.y[37]=-0.45;
    this.x[38]=2.25; this.y[38]=-0.585;
    this.x[39]=1.8; this.y[39]=-0.675;
    this.x[40]=0.45; this.y[40]=-1.215;
    this.x[41]=0.0; this.y[41]=-1.305;
    this.x[42]=-0.45; this.y[42]=-1.35;
    this.x[43]=-0.9; this.y[43]=-1.215;
    this.x[44]=0.81; this.y[44]=0.0;
    this.x[45]=1.44; this.y[45]=0.045;
    this.x[46]=2.25; this.y[46]=-0.135;
    this.x[47]=2.565; this.y[47]=-0.09;
    this.x[48]=2.925; this.y[48]=-0.09;
    this.x[49]=2.475; this.y[49]=-0.36;
    this.x[50]=2.25; this.y[50]=-0.45;
    this.x[51]=1.89; this.y[51]=-0.405;
    this.x[52]=1.665; this.y[52]=-0.135;
    this.x[53]=-0.225; this.y[53]=-1.125;
    this.x[54]=0.0; this.y[54]=-0.9;
    this.x[55]=0.45; this.y[55]=-0.675;
    this.x[56]=0.675; this.y[56]=-0.675;
    this.x[57]=1.125; this.y[57]=-0.45;
    this.x[58]=0.81; this.y[58]=-0.765;
    this.x[59]=0.45; this.y[59]=-0.9;
    this.x[60]=0.0; this.y[60]=-1.125;
    for (let i = 0; i < this.numPoints; i++) this.z[i] = 0;
  }

  buildFatorzs(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 40;
    this.numPolygons = 4;
    this.colors[0] = this.fatorzsLeft;
    this.colors[1] = this.fatorzsMiddle;
    this.colors[2] = this.fatorzsRight;
    this.colors[3] = this.fatorzsTop;
    this.numPolyStruct = 6;
    this.first[0]=0; this.last[0]=7; this.polyStruct[0]=0;
    this.first[1]=1; this.last[1]=26; this.polyStruct[1]=1;
    this.first[2]=19; this.last[2]=36; this.polyStruct[2]=2;
    this.first[3]=0; this.last[3]=1; this.polyStruct[3]=3;
    this.first[4]=26; this.last[4]=27; this.polyStruct[4]=3;
    this.first[5]=37; this.last[5]=38; this.polyStruct[5]=3;
    this.minX = 7; this.maxX = 29;
    this.colliYIndex = 19; this.colliY = 0;
    this.x[0]=-0.315; this.y[0]=-0.63;
    this.x[1]=-0.126; this.y[1]=-0.504;
    this.x[2]=-0.126; this.y[2]=-0.189;
    this.x[3]=-0.252; this.y[3]=0.0;
    this.x[4]=-0.315; this.y[4]=-0.063;
    this.x[5]=-0.378; this.y[5]=0.126;
    this.x[6]=-0.63; this.y[6]=0.189;
    this.x[7]=-0.441; this.y[7]=-0.063;
    this.x[8]=-0.693; this.y[8]=0.189;
    this.x[9]=-0.819; this.y[9]=0.189;
    this.x[10]=-0.945; this.y[10]=0.315;
    this.x[11]=-0.693; this.y[11]=0.252;
    this.x[12]=-0.63; this.y[12]=0.252;
    this.x[13]=-0.63; this.y[13]=0.315;
    this.x[14]=-0.756; this.y[14]=0.441;
    this.x[15]=-0.567; this.y[15]=0.378;
    this.x[16]=-0.378; this.y[16]=0.189;
    this.x[17]=-0.189; this.y[17]=0.252;
    this.x[18]=-0.315; this.y[18]=0.378;
    this.x[19]=-0.189; this.y[19]=0.378;
    this.x[20]=-0.063; this.y[20]=0.189;
    this.x[21]=0.0; this.y[21]=0.189;
    this.x[22]=0.0; this.y[22]=0.0;
    this.x[23]=0.063; this.y[23]=0.126;
    this.x[24]=0.126; this.y[24]=-0.252;
    this.x[25]=0.189; this.y[25]=-0.189;
    this.x[26]=0.189; this.y[26]=-0.504;
    this.x[27]=0.378; this.y[27]=-0.693;
    this.x[28]=0.504; this.y[28]=0.0;
    this.x[29]=0.819; this.y[29]=0.189;
    this.x[30]=1.071; this.y[30]=0.189;
    this.x[31]=1.323; this.y[31]=0.315;
    this.x[32]=0.945; this.y[32]=0.252;
    this.x[33]=0.63; this.y[33]=0.315;
    this.x[34]=0.504; this.y[34]=0.252;
    this.x[35]=0.126; this.y[35]=0.252;
    this.x[36]=-0.126; this.y[36]=0.378;
    this.x[37]=0.315; this.y[37]=-0.756;
    this.x[38]=0.0; this.y[38]=-0.756;
    this.x[39]=0.504; this.y[39]=-0.126;
    for (let i = 0; i < this.numPoints; i++) this.z[i] = 0;
  }

  buildFenyo(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 121;
    this.numPolygons = 8;
    this.colors[0] = this.fenyoInt;
    this.colors[1] = this.fenyoExt;
    this.colors[2] = this.fenyoInt;
    this.colors[3] = this.fenyoExt;
    this.colors[4] = this.fenyoExt;
    this.colors[5] = this.fenyoExt;
    this.colors[6] = this.fenyoExt;
    this.colors[7] = this.fenyoExt;
    this.numPolyStruct = 14;
    this.first[0]=0; this.last[0]=12; this.polyStruct[0]=0;
    this.first[1]=3; this.last[1]=18; this.polyStruct[1]=1;
    this.first[2]=96; this.last[2]=96; this.polyStruct[2]=1;
    this.first[3]=13; this.last[3]=95; this.polyStruct[3]=2;
    this.first[4]=22; this.last[4]=32; this.polyStruct[4]=3;
    this.first[5]=97; this.last[5]=98; this.polyStruct[5]=3;
    this.first[6]=36; this.last[6]=49; this.polyStruct[6]=4;
    this.first[7]=99; this.last[7]=100; this.polyStruct[7]=4;
    this.first[8]=53; this.last[8]=70; this.polyStruct[8]=5;
    this.first[9]=101; this.last[9]=113; this.polyStruct[9]=5;
    this.first[10]=74; this.last[10]=82; this.polyStruct[10]=6;
    this.first[11]=114; this.last[11]=116; this.polyStruct[11]=6;
    this.first[12]=87; this.last[12]=93; this.polyStruct[12]=7;
    this.first[13]=117; this.last[13]=120; this.polyStruct[13]=7;
    this.minX = 51; this.maxX = 80;
    this.colliYIndex = 107; this.colliY = 0;
    this.x[0]=0.0; this.y[0]=-5.945;
    this.x[1]=-0.135; this.y[1]=-5.405;
    this.x[2]=-0.27; this.y[2]=-5.135;
    this.x[3]=-0.81; this.y[3]=-4.46;
    this.x[4]=-0.54; this.y[4]=-4.595;
    this.x[5]=-0.27; this.y[5]=-4.865;
    this.x[6]=-0.135; this.y[6]=-4.865;
    this.x[7]=-0.135; this.y[7]=-4.73;
    this.x[8]=0.0; this.y[8]=-4.73;
    this.x[9]=0.135; this.y[9]=-4.595;
    this.x[10]=0.135; this.y[10]=-4.865;
    this.x[11]=0.27; this.y[11]=-4.73;
    this.x[12]=0.81; this.y[12]=-4.46;
    this.x[13]=0.27; this.y[13]=-4.595;
    this.x[14]=0.27; this.y[14]=-4.325;
    this.x[15]=0.0; this.y[15]=-4.595;
    this.x[16]=-0.135; this.y[16]=-4.46;
    this.x[17]=-0.135; this.y[17]=-4.595;
    this.x[18]=-0.27; this.y[18]=-4.595;
    this.x[19]=-0.405; this.y[19]=-4.19;
    this.x[20]=-0.675; this.y[20]=-3.785;
    this.x[21]=-0.945; this.y[21]=-3.515;
    this.x[22]=-1.62; this.y[22]=-2.975;
    this.x[23]=-1.08; this.y[23]=-3.38;
    this.x[24]=-1.08; this.y[24]=-3.245;
    this.x[25]=-0.81; this.y[25]=-3.38;
    this.x[26]=-0.54; this.y[26]=-3.515;
    this.x[27]=-0.405; this.y[27]=-3.245;
    this.x[28]=-0.27; this.y[28]=-3.38;
    this.x[29]=0.0; this.y[29]=-3.11;
    this.x[30]=-0.27; this.y[30]=-3.245;
    this.x[31]=-0.27; this.y[31]=-3.11;
    this.x[32]=-0.675; this.y[32]=-3.245;
    this.x[33]=-0.81; this.y[33]=-2.705;
    this.x[34]=-1.35; this.y[34]=-2.3;
    this.x[35]=-1.755; this.y[35]=-1.895;
    this.x[36]=-2.565; this.y[36]=-1.49;
    this.x[37]=-1.89; this.y[37]=-1.625;
    this.x[38]=-1.62; this.y[38]=-1.76;
    this.x[39]=-1.35; this.y[39]=-1.76;
    this.x[40]=-0.675; this.y[40]=-2.165;
    this.x[41]=-0.675; this.y[41]=-1.895;
    this.x[42]=-0.135; this.y[42]=-2.03;
    this.x[43]=0.0; this.y[43]=-1.49;
    this.x[44]=-0.27; this.y[44]=-1.76;
    this.x[45]=-0.675; this.y[45]=-1.49;
    this.x[46]=-0.675; this.y[46]=-1.625;
    this.x[47]=-1.08; this.y[47]=-1.355;
    this.x[48]=-0.945; this.y[48]=-1.76;
    this.x[49]=-1.08; this.y[49]=-1.76;
    this.x[50]=-1.215; this.y[50]=-1.355;
    this.x[51]=-1.89; this.y[51]=-0.95;
    this.x[52]=-2.295; this.y[52]=-0.41;
    this.x[53]=-2.7; this.y[53]=-0.14;
    this.x[54]=-2.835; this.y[54]=-0.005;
    this.x[55]=-2.025; this.y[55]=-0.005;
    this.x[56]=-0.945; this.y[56]=-0.41;
    this.x[57]=-1.08; this.y[57]=-0.14;
    this.x[58]=-0.945; this.y[58]=-0.275;
    this.x[59]=-1.08; this.y[59]=-0.005;
    this.x[60]=-0.405; this.y[60]=-0.275;
    this.x[61]=-0.675; this.y[61]=0.13;
    this.x[62]=0.135; this.y[62]=0.13;
    this.x[63]=0.54; this.y[63]=-0.005;
    this.x[64]=1.215; this.y[64]=0.13;
    this.x[65]=0.675; this.y[65]=-0.41;
    this.x[66]=1.485; this.y[66]=-0.005;
    this.x[67]=1.755; this.y[67]=-0.14;
    this.x[68]=2.43; this.y[68]=0.13;
    this.x[69]=2.7; this.y[69]=0.13;
    this.x[70]=3.51; this.y[70]=0.265;
    this.x[71]=2.43; this.y[71]=-0.14;
    this.x[72]=2.025; this.y[72]=-0.815;
    this.x[73]=1.62; this.y[73]=-0.95;
    this.x[74]=1.215; this.y[74]=-1.49;
    this.x[75]=0.945; this.y[75]=-1.49;
    this.x[76]=0.945; this.y[76]=-1.355;
    this.x[77]=0.54; this.y[77]=-1.895;
    this.x[78]=0.945; this.y[78]=-1.625;
    this.x[79]=1.35; this.y[79]=-1.76;
    this.x[80]=1.62; this.y[80]=-1.625;
    this.x[81]=1.755; this.y[81]=-1.76;
    this.x[82]=2.7; this.y[82]=-1.22;
    this.x[83]=2.025; this.y[83]=-1.76;
    this.x[84]=1.485; this.y[84]=-2.3;
    this.x[85]=0.945; this.y[85]=-2.705;
    this.x[86]=0.405; this.y[86]=-3.245;
    this.x[87]=0.405; this.y[87]=-3.11;
    this.x[88]=0.135; this.y[88]=-3.65;
    this.x[89]=0.54; this.y[89]=-3.245;
    this.x[90]=0.54; this.y[90]=-3.38;
    this.x[91]=0.945; this.y[91]=-3.245;
    this.x[92]=1.215; this.y[92]=-3.245;
    this.x[93]=1.755; this.y[93]=-2.975;
    this.x[94]=1.08; this.y[94]=-3.515;
    this.x[95]=0.54; this.y[95]=-4.055;
    this.x[96]=-0.675; this.y[96]=-4.46;
    this.x[97]=-0.54; this.y[97]=-2.975;
    this.x[98]=-0.675; this.y[98]=-3.11;
    this.x[99]=-1.89; this.y[99]=-1.355;
    this.x[100]=-1.89; this.y[100]=-1.49;
    this.x[101]=2.7; this.y[101]=0.4;
    this.x[102]=2.16; this.y[102]=0.265;
    this.x[103]=1.62; this.y[103]=0.13;
    this.x[104]=1.755; this.y[104]=0.4;
    this.x[105]=1.08; this.y[105]=0.265;
    this.x[106]=0.405; this.y[106]=0.265;
    this.x[107]=0.135; this.y[107]=0.4;
    this.x[108]=-0.675; this.y[108]=0.265;
    this.x[109]=-1.485; this.y[109]=0.265;
    this.x[110]=-1.215; this.y[110]=-0.005;
    this.x[111]=-2.025; this.y[111]=0.265;
    this.x[112]=-2.43; this.y[112]=0.13;
    this.x[113]=-3.24; this.y[113]=0.265;
    this.x[114]=2.16; this.y[114]=-1.22;
    this.x[115]=1.755; this.y[115]=-1.49;
    this.x[116]=1.89; this.y[116]=-1.22;
    this.x[117]=1.35; this.y[117]=-2.975;
    this.x[118]=1.215; this.y[118]=-2.84;
    this.x[119]=1.35; this.y[119]=-2.975;
    this.x[120]=0.675; this.y[120]=-2.975;
    for (let i = 0; i < this.numPoints; i++) this.z[i] = 0;
  }

  buildFenyo2(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 99;
    this.numPolygons = 6;
    this.colors[0] = this.fenyoExt;
    this.colors[1] = this.fenyoInt;
    this.colors[2] = this.fenyoExt;
    this.colors[3] = this.fenyoExt;
    this.colors[4] = this.fenyoExt;
    this.colors[5] = this.fenyoExt;
    this.numPolyStruct = 6;
    this.first[0] = 0; this.last[0] = 63; this.polyStruct[0] = 0;
    this.first[1] = 34; this.last[1] = 87; this.polyStruct[1] = 1;
    this.first[2] = 83; this.last[2] = 87; this.polyStruct[2] = 2;
    this.first[3] = 88; this.last[3] = 90; this.polyStruct[3] = 3;
    this.first[4] = 91; this.last[4] = 95; this.polyStruct[4] = 4;
    this.first[5] = 96; this.last[5] = 98; this.polyStruct[5] = 5;
    this.minX = 15; this.maxX = 73;
    this.colliYIndex = 28; this.colliY = 0;
    let i;
    for (i = 0; i < this.numPoints; i++) this.z[i] = 0;
    d *= 0.0375;
    this.x[0]=-3*d; this.y[0]=-65*d;
    this.x[1]=-7*d; this.y[1]=-63*d;
    this.x[2]=-15*d; this.y[2]=-56*d;
    this.x[3]=-5*d; this.y[3]=-58*d;
    this.x[4]=-9*d; this.y[4]=-51*d;
    this.x[5]=-10*d; this.y[5]=-46*d;
    this.x[6]=-20*d; this.y[6]=-40*d;
    this.x[7]=-21*d; this.y[7]=-35*d;
    this.x[8]=-18*d; this.y[8]=-38*d;
    this.x[9]=-10*d; this.y[9]=-38*d;
    this.x[10]=-15*d; this.y[10]=-30*d;
    this.x[11]=-26*d; this.y[11]=-24*d;
    this.x[12]=-30*d; this.y[12]=-18*d;
    this.x[13]=-26*d; this.y[13]=-20*d;
    this.x[14]=-20*d; this.y[14]=-20*d;
    this.x[15]=-17*d; this.y[15]=-22*d;
    this.x[16]=-19*d; this.y[16]=-14*d;
    this.x[17]=-24*d; this.y[17]=-11*d;
    this.x[18]=-30*d; this.y[18]=-5*d;
    this.x[19]=-35*d; this.y[19]=-3*d;
    this.x[20]=-48*d; this.y[20]=10*d;
    this.x[21]=-40*d; this.y[21]=10*d;
    this.x[22]=-34*d; this.y[22]=9*d;
    this.x[23]=-28*d; this.y[23]=9*d;
    this.x[24]=-18*d; this.y[24]=5*d;
    this.x[25]=-16*d; this.y[25]=6*d;
    this.x[26]=-20*d; this.y[26]=10*d;
    this.x[27]=-7*d; this.y[27]=12*d;
    this.x[28]=13*d; this.y[28]=13*d;
    this.x[29]=18*d; this.y[29]=12*d;
    this.x[30]=14*d; this.y[30]=8*d;
    this.x[31]=21*d; this.y[31]=8*d;
    this.x[32]=28*d; this.y[32]=11*d;
    this.x[33]=30*d; this.y[33]=10*d;
    this.x[34]=43*d; this.y[34]=10*d;
    this.x[35]=22*d; this.y[35]=6*d;
    this.x[36]=16*d; this.y[36]=5*d;
    this.x[37]=10*d; this.y[37]=6*d;
    this.x[38]=6*d; this.y[38]=5*d;
    this.x[39]=8*d; this.y[39]=7*d;
    this.x[40]=0*d; this.y[40]=9*d;
    this.x[41]=-9*d; this.y[41]=5*d;
    this.x[42]=-6*d; this.y[42]=1*d;
    this.x[43]=-13*d; this.y[43]=2*d;
    this.x[44]=-8*d; this.y[44]=-5*d;
    this.x[45]=-15*d; this.y[45]=-4*d;
    this.x[46]=-26*d; this.y[46]=1*d;
    this.x[47]=-21*d; this.y[47]=-5*d;
    this.x[48]=-15*d; this.y[48]=-10*d;
    this.x[49]=-11*d; this.y[49]=-18*d;
    this.x[50]=-6*d; this.y[50]=-20*d;
    this.x[51]=-3*d; this.y[51]=-19*d;
    this.x[52]=0*d; this.y[52]=-22*d;
    this.x[53]=-10*d; this.y[53]=-22*d;
    this.x[54]=-4*d; this.y[54]=-29*d;
    this.x[55]=-15*d; this.y[55]=-25*d;
    this.x[56]=-8*d; this.y[56]=-32*d;
    this.x[57]=-7*d; this.y[57]=-36*d;
    this.x[58]=-10*d; this.y[58]=-35*d;
    this.x[59]=-4*d; this.y[59]=-44*d;
    this.x[60]=-10*d; this.y[60]=-43*d;
    this.x[61]=-4*d; this.y[61]=-54*d;
    this.x[62]=-2*d; this.y[62]=-60*d;
    this.x[63]=-8*d; this.y[63]=-59*d;
    this.x[64]=-3*d; this.y[64]=-65*d;
    this.x[65]=0*d; this.y[65]=-75*d;
    this.x[66]=1*d; this.y[66]=-67*d;
    this.x[67]=10*d; this.y[67]=-56*d;
    this.x[68]=1*d; this.y[68]=-61*d;
    this.x[69]=3*d; this.y[69]=-58*d;
    this.x[70]=4*d; this.y[70]=-53*d;
    this.x[71]=9*d; this.y[71]=-48*d;
    this.x[72]=12*d; this.y[72]=-40*d;
    this.x[73]=18*d; this.y[73]=-36*d;
    this.x[74]=9*d; this.y[74]=-41*d;
    this.x[75]=2*d; this.y[75]=-44*d;
    this.x[76]=5*d; this.y[76]=-39*d;
    this.x[77]=8*d; this.y[77]=-38*d;
    this.x[78]=9*d; this.y[78]=-32*d;
    this.x[79]=26*d; this.y[79]=-17*d;
    this.x[80]=5*d; this.y[80]=-23*d;
    this.x[81]=10*d; this.y[81]=-20*d;
    this.x[82]=13*d; this.y[82]=-13*d;
    this.x[83]=37*d; this.y[83]=3*d;
    this.x[84]=22*d; this.y[84]=-4*d;
    this.x[85]=10*d; this.y[85]=-2*d;
    this.x[86]=24*d; this.y[86]=0*d;
    this.x[87]=31*d; this.y[87]=3*d;
    this.x[88]=26*d; this.y[88]=-17*d;
    this.x[89]=5*d; this.y[89]=-23*d;
    this.x[90]=10*d; this.y[90]=-20*d;
    this.x[91]=18*d; this.y[91]=-36*d;
    this.x[92]=9*d; this.y[92]=-41*d;
    this.x[93]=2*d; this.y[93]=-44*d;
    this.x[94]=5*d; this.y[94]=-39*d;
    this.x[95]=8*d; this.y[95]=-38*d;
    this.x[96]=10*d; this.y[96]=-56*d;
    this.x[97]=1*d; this.y[97]=-61*d;
    this.x[98]=3*d; this.y[98]=-58*d;
    let d2 = 0.4 - this.y[this.colliYIndex];
    for (i = 0; i < this.numPoints; i++) this.y[i] += d2;
  }

  buildRamp(xVector, d) {
    this.trans.Set(xVector);
    this.numPoints = 10;
    this.numPolygons = 4;
    this.colors[0] = this.rampSide;
    this.colors[1] = this.rampSide;
    this.colors[2] = this.rampTop;
    this.colors[3] = this.rampEdge;
    this.numPolyStruct = 5;
    this.first[0]=0; this.last[0]=2; this.polyStruct[0]=0;
    this.first[1]=3; this.last[1]=5; this.polyStruct[1]=1;
    this.first[2]=6; this.last[2]=9; this.polyStruct[2]=2;
    this.first[3]=1; this.last[3]=4; this.polyStruct[3]=3;
    this.first[4]=6; this.last[4]=9; this.polyStruct[4]=3;
    this.minX = 1; this.maxX = 4;
    this.colliYIndex = 1; this.colliY = 0;
    this.x[0]=-1.8; this.y[0]=0.45; this.z[0]=1.44;
    this.x[1]=-1.35; this.y[1]=0.45; this.z[1]=0.0;
    this.x[2]=-1.35; this.y[2]=-0.9; this.z[2]=1.8;
    this.x[3]=1.35; this.y[3]=-0.9; this.z[3]=1.8;
    this.x[4]=1.35; this.y[4]=0.45; this.z[4]=0.0;
    this.x[5]=1.8; this.y[5]=0.45; this.z[5]=1.44;
    this.x[6]=0.99; this.y[6]=0.45; this.z[6]=0.0;
    this.x[7]=0.99; this.y[7]=-0.63; this.z[7]=1.44;
    this.x[8]=-0.99; this.y[8]=-0.63; this.z[8]=1.44;
    this.x[9]=-0.99; this.y[9]=0.45; this.z[9]=0.0;
  }
}
